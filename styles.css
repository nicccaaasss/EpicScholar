   :root{--bg:#0b0b0d;--glass:rgba(255,255,255,0.06);--card:rgba(255,255,255,0.03);--accent-gradient:linear-gradient(90deg,#ff416c,#0072ff);--accent-start:#ff416c;--accent-end:#0072ff;--tahoma:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial;--nav-height:72px;--panel-width:220px;--panel-collapsed:64px;--glass-border:rgba(255,255,255,0.06)}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;overflow:hidden;background:var(--bg);font-family:var(--tahoma);color:#e9eef8}
    canvas#bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}
    .app{position:relative;z-index:1;display:grid;grid-template-columns:var(--panel-width) 1fr var(--panel-width);grid-template-rows:1fr auto;height:100vh;width:100vw;gap:18px;padding:20px}

    /* Global Scrollbar Styling */
    ::-webkit-scrollbar {
        width: 6px; /* Width for vertical scrollbar */
        height: 6px; /* Height for horizontal scrollbar */
    }
    ::-webkit-scrollbar-track {
        background: transparent;
    }
    ::-webkit-scrollbar-thumb {
        border-radius: 999px;
        background: var(--accent-gradient);
        border: 1px solid rgba(0, 0, 0, 0.1);
    }
    .panel-full::-webkit-scrollbar,
    .feed-viewport::-webkit-scrollbar,
    .modal-scroll::-webkit-scrollbar {
        width: 6px;
    }

    /* Liquid glass mini-cards */
    .side-col{display:flex;flex-direction:column;gap:14px;align-items:flex-start}
    .right .side-col{align-items:flex-end}
    .mini-card{width:100px;height:100px;border-radius:14px;padding:8px;display:flex;align-items:center;gap:8px;cursor:pointer;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid var(--glass-border);backdrop-filter:blur(8px) saturate(120%);transition:all .32s cubic-bezier(.2,.9,.24,1);position:relative;overflow:hidden;z-index:1}
    .mini-card .mini-view{display:flex;flex-direction:column;align-items:center;gap:8px;width:100%;justify-content:center}
    .mini-card .mini-view .title{font-weight:700;background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;color:transparent;width:100%;text-align:center;overflow:hidden;text-overflow:ellipsis}
    .mini-card .icon{width:36px;height:36px;border-radius:8px;display:grid;place-items:center}
    .side-col .mini-card:hover,.side-col .mini-card.active{width:var(--panel-width);height:220px;border-radius:14px;padding:14px;transform:none}
    .mini-card .panel-full{display:none}
    .mini-card.active .mini-view{display:none}
    .mini-card.active .panel-full{display:flex}
    .side-col .mini-card:hover .mini-view{display:none}
    .side-col .mini-card:hover .panel-full{display:flex}
    .mini-card:hover{box-shadow:0 10px 40px rgba(0,0,0,0.6)}
    .mini-card .icon{width:44px;height:44px;border-radius:10px;display:grid;place-items:center;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02)}
    .mini-card .title{font-size:13px;color:rgba(233,238,248,0.9);font-weight:600;flex:1;text-align:center;transition:all .28s}
    .side-col .mini-card:hover .title,.side-col .mini-card.active .title{font-size:14px;text-align:left}
    .panel-full{position:absolute;left:0;top:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(10,11,13,0.6),rgba(10,11,13,0.4));border-radius:14px;padding:16px;display:flex;flex-direction:column;gap:12px;z-index:40;border:1px solid rgba(255,255,255,0.04);box-shadow:0 10px 40px rgba(2,6,23,0.7);backdrop-filter:blur(10px) saturate(130%);overflow-y:auto}
    .center{display:flex;flex-direction:column;gap:18px;align-items:center;overflow:hidden;position:relative}
    .feed-viewport{width:100%;height:calc(100vh - var(--nav-height) - 130px);overflow-y:auto;overflow-x:hidden;padding:14px;border-radius:20px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(12px) saturate(120%);position:relative; transition: opacity 0.4s ease-in-out;}
    #searchBar{width:100%;height:44px;padding:0 16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);background:rgba(255,255,255,0.015);color:inherit;font-size:15px;backdrop-filter:blur(8px)}
    #searchBar::placeholder{color:rgba(233,238,248,0.4)}
    
    .post{max-width:800px;margin:16px auto;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 6px 18px rgba(0,0,0,0.6);transition:transform .18s;position:relative}
    .post:hover{transform:translateY(-6px)}
    .post .meta{display:flex;gap:10px;align-items:center}
    .avatar{width:40px;height:40px;border-radius:10px;background:linear-gradient(90deg,#7b61ff,#47d7ff);display:grid;place-items:center;font-weight:700;flex-shrink:0}
    .name{font-weight:700}
    .time{font-size:12px;color:rgba(233,238,248,0.6)}
    .media{margin-top:10px;border-radius:12px;overflow:hidden;background:#000;display:grid;position:relative}
    .media img,.media video{width:100%;height:auto;display:block}
    .actions{display:flex;gap:10px;align-items:center;margin-top:8px;position:relative}
    .btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:rgba(255,255,255,0.015);cursor:pointer;display:flex;gap:8px;align-items:center;transition:all 0.3s ease}
    .btn .count{margin-left:6px;font-weight:700}
    .btn.add-btn,.btn#confirmUpload,.btn#addReminder,.btn#addScheduleBtn{background:var(--accent-gradient);color:#fff;font-weight:600;border:none;box-shadow:0 4px 12px rgba(0,0,0,0.2)}
    .btn.toggled{background:var(--accent-gradient);color:#fff;border-color:transparent}

    /* --- Custom Video Player Styles (New) --- */
    .video-container {
        position: relative;
        width: 100%;
        display: block; /* Ensures it takes up space correctly */
    }
    .video-container video {
        width: 100%;
        height: auto;
        display: block;
        /* Hide native controls */
        &::-webkit-media-controls { display: none !important; }
        &::-webkit-media-controls-enclosure { display: none !important; }
    }
    .custom-controls {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 8px 10px;
        background: linear-gradient(180deg, rgba(2, 2, 2, 0.2), rgba(2, 2, 2, 0.7)); /* Darker gradient for visibility */
        display: flex;
        flex-direction: column;
        gap: 6px;
        transition: opacity 0.3s ease;
        opacity: 0.9;
    }
    .media:hover .custom-controls, .custom-controls:hover {
        opacity: 1;
    }
    .controls-bar {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .timeline-bar {
        cursor: pointer;
        height: 4px;
        background: rgba(255, 255, 255, 0.2); /* Base color */
        border-radius: 999px;
        position: relative;
        flex-grow: 1;
        margin-top: 5px;
    }
    .progress-fill {
        height: 100%;
        width: 0%;
        border-radius: 999px;
        background: var(--accent-gradient); /* Gradient Timeline Fill */
        transition: width 0.1s linear;
    }
    .control-btn {
        background: transparent;
        border: none;
        color: white;
        font-size: 18px;
        cursor: pointer;
        padding: 5px;
        line-height: 1;
        transition: color 0.2s;
    }
    .control-btn:hover {
        color: var(--accent-end);
    }
    .time-display {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.8);
        white-space: nowrap;
    }
    /* --- End Custom Video Player Styles --- */
    
    /* Post Entry Animation */
    @keyframes slideInFade { 0% { opacity: 0; transform: translateY(-20px); } 100% { opacity: 1; transform: translateY(0); } }
    .post.new { animation: slideInFade 0.5s cubic-bezier(.2,.9,.24,1) forwards; }

    /* Share Menu (Pop-up) */
    .share-menu{position:absolute;bottom:calc(100% + 10px); /* Position above the button */ left:170px; /* Aligns with share button roughly */ background:linear-gradient(180deg,rgba(30,32,36,0.95),rgba(25,27,30,0.95));border:1px solid var(--glass-border);padding:8px;border-radius:10px;display:none;flex-direction:column;gap:6px;z-index:50;width:180px;backdrop-filter:blur(10px);box-shadow:0 8px 30px rgba(0,0,0,0.5)}
    .share-menu.show{display:flex}
    .share-menu .btn{width:100%;justify-content:flex-start}
    .share-menu .btn:hover{background:rgba(255,255,255,0.05)}

    /* Comments (Styling for modal) */
    @keyframes fadeInComment { 0% { opacity: 0; } 100% { opacity: 1; } }
    .comment{display:flex;gap:8px;align-items:flex-start;margin-bottom:8px; animation: fadeInComment 0.3s ease-out;}
    .comment .cavatar{width:32px;height:32px;border-radius:8px;background:linear-gradient(90deg,#ffd6e0,#c7f0ff);display:grid;place-items:center;font-weight:700;flex-shrink:0}
    .comment .ctext{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.02);padding:8px 12px;border-radius:12px;max-width:80%;word-break:break-word}
    /* "My" comment styles */
    .comment.mine{justify-content:flex-end}
    .comment.mine .cavatar{order:2} /* Avatar on the right */
    .comment.mine .ctext{background:var(--accent-gradient);color:#fff;border:none}
    .comment.mine .ctext strong{color:#fff} /* Make "You" name white */

    .comment-box{display:flex;gap:8px;margin-top:8px;border-top:1px solid var(--glass-border);padding-top:10px}
    .comment-box textarea{flex:1;min-height:40px;border-radius:8px;padding:8px;border:1px solid rgba(255,255,255,0.03);background:rgba(255,255,255,0.01);color:inherit}

    /* heart animation overlay */
    .heart-overlay{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(0);pointer-events:none;font-size:90px;opacity:0;transition:transform .45s cubic-bezier(.2,.9,.24,1),opacity .45s}
    .heart-overlay.show{transform:translate(-50%,-50%) scale(1);opacity:1}
    /* Thumbs Up Animation Overlay */
    .thumb-overlay{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(0);pointer-events:none;font-size:90px;opacity:0;transition:transform .45s cubic-bezier(.2,.9,.24,1),opacity .45s; color: #47d7ff;}
    .thumb-overlay.show{transform:translate(-50%,-50%) scale(1);opacity:1}

    @keyframes glowPulse{0%{box-shadow:0 0 0px rgba(0,114,255,0.08)}50%{box-shadow:0 0 30px rgba(0,114,255,0.16)}100%{box-shadow:0 0 0px rgba(0,114,255,0.08)}}

    /* nav bar */
    .nav-bar{grid-column:1/4;display:flex;gap:14px;align-items:center;justify-content:center;height:var(--nav-height);border-radius:16px;padding:8px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(14px);box-shadow:0 12px 40px rgba(0,0,0,0.6);position:relative}
    .nav-item{width:120px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;transition:all .32s;position:relative}
    .nav-item .label{font-weight:700}
    .nav-wrap{position:relative;display:flex;gap:18px}
    .nav-underline{position:absolute;bottom:6px;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--accent-start),var(--accent-end));transition:all .36s cubic-bezier(.2,.9,.24,1);box-shadow:0 8px 30px rgba(0,114,255,0.12)}
    
    /* MODAL STYLES (NO BLUR) */
    .modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.6); /* Darker overlay, no blur */ z-index:100;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s ease}
    .modal-overlay.show{opacity:1;pointer-events:auto}
    .modal-content{background:#1a1c20; /* Solid background */ border:1px solid var(--glass-border);border-radius:16px;padding:20px;width:90%;max-width:500px;max-height:80vh;display:flex;flex-direction:column;gap:14px;box-shadow:0 10px 40px rgba(0,0,0,0.6);transform:scale(0.95);transition:transform .3s ease}
    .modal-overlay.show .modal-content{transform:scale(1)}
    .modal-scroll{overflow-y:auto;padding-right:5px}
    .modal-content .btn{background:var(--accent-gradient);color:#fff;font-weight:600;border:none;box-shadow:0 4px 12px rgba(0,0,0,0.2)}

    /* Success Message Styles */
    #feedback-message {
        position: fixed;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(90deg, #0072ff, #ff416c);
        color: white;
        padding: 10px 20px;
        border-radius: 10px;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        pointer-events: none;
    }
    #feedback-message.show {
        opacity: 1;
        transform: translateX(-50%) translateY(-20px);
    }
    
    /* small helpers */
    .title-small{font-size:13px;color:rgba(233,238,248,0.8);font-weight:700}
    .upload-area{display:flex;flex-direction:column;gap:8px}
    .file-choose{padding:10px;border-radius:10px;border:1px dashed rgba(255,255,255,0.06);display:flex;align-items:center;gap:8px;cursor:pointer}
    .caption-area{width:100%;min-height:64px;border-radius:8px;padding:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);resize:none;color:inherit}
    .preview-box{width:100%;height:160px;border-radius:8px;background:#060606;display:grid;place-items:center;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
    .controls{display:flex;gap:8px;justify-content:flex-end}
    .text-wrapping{word-break:break-word;white-space:pre-wrap}
    
    /* responsive tweaks */
    @media(max-width:900px){:root{--panel-width:64px} .app{grid-template-columns:var(--panel-collapsed) 1fr var(--panel-collapsed)} .mini-card{width:var(--panel-collapsed);height:64px}}
    /* === RIGHT SIDE BOX POSITIONING & EXPANSION === */
/* === KEEP CENTER FIXED & MAKE SIDE BOXES FLOAT === */

/* Keep the main grid stable */
.app {
  grid-template-columns: var(--panel-width) 1fr var(--panel-width);
}

/* Float only the side content */
.left .side-col,
.right .side-col {
  position: absolute;
  top: 30%;
  transform: translateY(-10%);
  display: flex;
  flex-direction: column;
  gap: 14px;
  z-index: 20;
}

/* Anchor sides properly */
.left .side-col {
  left: 20px;
}

.right .side-col {
  right: 20px;
  align-items: flex-end;
}

/* Expansion animation (opens left for right side, right for left side) */
.left .mini-card,
.right .mini-card {
  transition: all 0.5s cubic-bezier(.25,1,.3,1.2);
  transform-origin: center;
}

.left .mini-card:hover,
.left .mini-card.active {
  width: 260px;
  height: 240px;
  transform: scale(1.05) translateX(10px) translateY(10px);
  box-shadow: 0 0 40px rgba(255, 65, 108, 0.25);
}

.right .mini-card:hover,
.right .mini-card.active {
  width: 260px;
  height: 240px;
  transform: scale(1.05) translateX(-10px) translateY(10px);
  box-shadow: 0 0 40px rgba(0, 114, 255, 0.25);
}

/* Bubbly liquid-glass effect */
@keyframes bubblyOpen {
  0% { transform: scale(0.95); filter: blur(6px); opacity: 0.6; }
  60% { transform: scale(1.05); filter: blur(2px); opacity: 1; }
  100% { transform: scale(1); filter: blur(0); opacity: 1; }
}
.left .mini-card:hover,
.right .mini-card:hover {
  animation: bubblyOpen 0.45s ease-out;
  backdrop-filter: blur(14px) saturate(140%);
}
